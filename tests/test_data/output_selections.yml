filters:
  prod-events:
    event: MyEvent
    nrql: WHERE env = 'prod'


output-selections:
  latest-timestamp-raw-nrql: LATEST(timestamp)
  error-percentage-singleton-list:
    - percentage:
        function: COUNT(*)
        condition: WHERE status != 'Success'
        label: Error Rate
  latest-success-dict:
    filter:
      function: LATEST(timestamp)
      condition: WHERE status = 'Success'
  referenced-filter:
    filter:
      function: LATEST(timestamp)
      condition: prod-events
  mixed:
    - percentage:
        function: COUNT(*)
        condition: WHERE status != 'Success'
    - LATEST(timestamp) AS `Latest Event`
    - filter:
        function: LATEST(timestamp)
        condition: WHERE status = 'Success'
        label: Latest Success

